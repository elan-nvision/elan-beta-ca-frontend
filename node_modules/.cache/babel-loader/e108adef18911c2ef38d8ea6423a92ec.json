{"ast":null,"code":"var _jsxFileName = \"/Users/vish/Documents/elan-beta-ca-frontend/src/App.js\";\nimport React from \"react\";\nimport $ from \"jquery\";\nimport auth0 from \"auth0-js\";\nimport \"./index.css\";\nimport axios from \"axios\";\nlet globalRootURL = \"http://\" + window.location.host;\nconst AUTH0_CLIENT_ID = \"7ypOoXT5lMAP6B3LRvGJoD3eK0tBTrai\";\nconst AUTH0_DOMAIN = \"elan-nvision.auth0.com\";\nconst AUTH0_API_AUDIENCE = \"https://elan-nvision.auth0.com/api/v2/\";\nconst AUTH0_CALLBACK_URL = globalRootURL;\n\nclass App extends React.Component {\n  parseHash() {\n    this.auth0 = new auth0.WebAuth({\n      domain: AUTH0_DOMAIN,\n      clientID: AUTH0_CLIENT_ID\n    });\n    this.auth0.parseHash((err, authResult) => {\n      if (err) {\n        return console.log(err);\n      }\n\n      if (authResult !== null && authResult.accessToken !== null && authResult.idToken !== null) {\n        localStorage.setItem(\"access_token\", authResult.accessToken);\n        localStorage.setItem(\"id_token\", authResult.idToken);\n        localStorage.setItem(\"email\", JSON.stringify(authResult.idTokenPayload));\n        window.location = window.location.href.substr(0, window.location.href.indexOf(\"\"));\n      }\n    });\n  }\n\n  setup() {\n    $.ajaxSetup({\n      beforeSend: function (xhr) {\n        if (localStorage.getItem(\"access_token\")) {\n          xhr.setRequestHeader(\"Authorization\", \"Bearer \" + localStorage.getItem(\"access_token\"));\n        }\n      }\n    });\n  }\n\n  setState() {\n    let idToken = localStorage.getItem(\"id_token\");\n\n    if (idToken) {\n      this.loggedIn = true;\n    } else {\n      this.loggedIn = false;\n    }\n  }\n\n  componentWillMount() {\n    this.setup();\n    this.parseHash();\n    this.setState();\n  }\n\n  renderBody() {\n    if (this.loggedIn) return React.createElement(LoggedIn, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    });else return React.createElement(Home, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    });\n  }\n\n  render() {\n    return this.loggedIn === undefined ? React.createElement(\"div\", {\n      className: \"loader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Loading\") : this.renderBody();\n  }\n\n}\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.authenticate = this.authenticate.bind(this);\n  }\n\n  componentDidMount() {\n    this.authenticate();\n  }\n\n  authenticate() {\n    this.WebAuth = new auth0.WebAuth({\n      domain: AUTH0_DOMAIN,\n      clientID: AUTH0_CLIENT_ID,\n      scope: \"openid email\",\n      audience: AUTH0_API_AUDIENCE,\n      responseType: \"token id_token\",\n      redirectUri: AUTH0_CALLBACK_URL\n    });\n    this.WebAuth.authorize();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    });\n  }\n\n}\n\nclass LoggedIn extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstTime: null,\n      fname: \"\",\n      lname: \"\",\n      institute: \"\",\n      age: 0\n    };\n  }\n\n  componentDidMount() {\n    let requestURL = \"http://localhost:8080/doesuserexist/\" + JSON.parse(localStorage.getItem(\"email\")).email;\n    axios.get(requestURL).then(res => {\n      this.setState({\n        firstTime: !(res.data.message == \"true\")\n      });\n    });\n  }\n\n  renderForm() {\n    return React.createElement(\"div\", {\n      id: \"fh5co-couple\",\n      style: {\n        paddingTop: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-8 col-md-offset-2 text-center fh5co-heading animate-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Welcome!\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"February 20th, 2019, IIT Hyderabad\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"The grandest techno-cultural fiesta of Hyderabad\")))));\n  }\n\n  renderPoints() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Points\");\n  }\n\n  render() {\n    console.log(this.state.firstTime);\n\n    if (this.state.firstTime === true) {\n      return React.createElement(this.renderForm, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      });\n    } else if (this.state.firstTime === false) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Points\");\n    } else {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Loading\");\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/vish/Documents/elan-beta-ca-frontend/src/App.js"],"names":["React","$","auth0","axios","globalRootURL","window","location","host","AUTH0_CLIENT_ID","AUTH0_DOMAIN","AUTH0_API_AUDIENCE","AUTH0_CALLBACK_URL","App","Component","parseHash","WebAuth","domain","clientID","err","authResult","console","log","accessToken","idToken","localStorage","setItem","JSON","stringify","idTokenPayload","href","substr","indexOf","setup","ajaxSetup","beforeSend","xhr","getItem","setRequestHeader","setState","loggedIn","componentWillMount","renderBody","render","undefined","Home","constructor","props","authenticate","bind","componentDidMount","scope","audience","responseType","redirectUri","authorize","LoggedIn","state","firstTime","fname","lname","institute","age","requestURL","parse","email","get","then","res","data","message","renderForm","paddingTop","renderPoints"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport $ from \"jquery\";\nimport auth0 from \"auth0-js\";\nimport \"./index.css\";\nimport axios from \"axios\";\n\nlet globalRootURL = \"http://\" + window.location.host;\n\nconst AUTH0_CLIENT_ID = \"7ypOoXT5lMAP6B3LRvGJoD3eK0tBTrai\";\nconst AUTH0_DOMAIN = \"elan-nvision.auth0.com\";\nconst AUTH0_API_AUDIENCE = \"https://elan-nvision.auth0.com/api/v2/\";\nconst AUTH0_CALLBACK_URL = globalRootURL;\n\nclass App extends React.Component {\n  parseHash() {\n    this.auth0 = new auth0.WebAuth({\n      domain: AUTH0_DOMAIN,\n      clientID: AUTH0_CLIENT_ID\n    });\n    this.auth0.parseHash((err, authResult) => {\n      if (err) {\n        return console.log(err);\n      }\n      if (\n        authResult !== null &&\n        authResult.accessToken !== null &&\n        authResult.idToken !== null\n      ) {\n        localStorage.setItem(\"access_token\", authResult.accessToken);\n        localStorage.setItem(\"id_token\", authResult.idToken);\n        localStorage.setItem(\n          \"email\",\n          JSON.stringify(authResult.idTokenPayload)\n        );\n        window.location = window.location.href.substr(\n          0,\n          window.location.href.indexOf(\"\")\n        );\n      }\n    });\n  }\n  setup() {\n    $.ajaxSetup({\n      beforeSend: function(xhr) {\n        if (localStorage.getItem(\"access_token\")) {\n          xhr.setRequestHeader(\n            \"Authorization\",\n            \"Bearer \" + localStorage.getItem(\"access_token\")\n          );\n        }\n      }\n    });\n  }\n  setState() {\n    let idToken = localStorage.getItem(\"id_token\");\n    if (idToken) {\n      this.loggedIn = true;\n    } else {\n      this.loggedIn = false;\n    }\n  }\n  componentWillMount() {\n    this.setup();\n    this.parseHash();\n    this.setState();\n  }\n  renderBody() {\n    if (this.loggedIn) return <LoggedIn />;\n    else return <Home />;\n  }\n\n  render() {\n    return this.loggedIn === undefined ? (\n      <div className=\"loader\">Loading</div>\n    ) : (\n      this.renderBody()\n    );\n  }\n}\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.authenticate = this.authenticate.bind(this);\n  }\n  componentDidMount() {\n    this.authenticate();\n  }\n  authenticate() {\n    this.WebAuth = new auth0.WebAuth({\n      domain: AUTH0_DOMAIN,\n      clientID: AUTH0_CLIENT_ID,\n      scope: \"openid email\",\n      audience: AUTH0_API_AUDIENCE,\n      responseType: \"token id_token\",\n      redirectUri: AUTH0_CALLBACK_URL\n    });\n    this.WebAuth.authorize();\n  }\n\n  render() {\n    return <div></div>;\n  }\n}\n\nclass LoggedIn extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstTime: null,\n      fname: \"\",\n      lname: \"\",\n      institute: \"\",\n      age: 0\n    };\n  }\n  componentDidMount() {\n    let requestURL =\n      \"http://localhost:8080/doesuserexist/\" +\n      JSON.parse(localStorage.getItem(\"email\")).email;\n    axios.get(requestURL).then(res => {\n      this.setState({ firstTime: !(res.data.message == \"true\") });\n    });\n  }\n  renderForm() {\n    return (\n      <div id=\"fh5co-couple\" style={{ paddingTop: \"20px\" }}>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-8 col-md-offset-2 text-center fh5co-heading animate-box\">\n              <h2>Welcome!</h2>\n              <h3>February 20th, 2019, IIT Hyderabad</h3>\n              <p>The grandest techno-cultural fiesta of Hyderabad</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  renderPoints() {\n    return <div>Points</div>;\n  }\n  render() {\n    console.log(this.state.firstTime);\n    if (this.state.firstTime === true) {\n      return <this.renderForm />;\n    } else if (this.state.firstTime === false) {\n      return <p>Points</p>;\n    } else {\n      return <p>Loading</p>;\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}